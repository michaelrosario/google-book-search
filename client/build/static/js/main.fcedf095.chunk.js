(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},109:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(51),o=a.n(r),c=a(114),i=a(115),s=a(54),u=a(19),m=a(52),d=a(7),E=a(8),h=a(10),f=a(9),p=a(11);a(13),a(60);var b=function(e){return l.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),l.a.createElement("i",{className:"fa fa-trash"})," Delete")};a(61);var v=function(e){return l.a.createElement("span",Object.assign({className:"save-btn"},e,{role:"button",tabIndex:"0"}),l.a.createElement("i",{className:"fa fa-save"}," ")," \xa0Save")};var k=function(e){var t=e.children;return l.a.createElement("div",{style:{height:300,clear:"both",margin:"0px 0 20px 0",paddingTop:120,color:"#FFF",textAlign:"center",backgroundSize:"cover",backgroundPosition:"center center",borderRadius:0,backgroundImage:"url(https://images.unsplash.com/photo-1525715843408-5c6ec44503b1)"},className:"jumbotron"},t)},g=a(5),N=a.n(g),B={getBooks:function(){return N.a.get("/api/books")},getBook:function(e){return N.a.get("/api/books/"+e)},deleteBook:function(e){return N.a.delete("/api/books/"+e)},saveBook:function(e){return N.a.post("/api/books",e)}},y=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_KEY,j=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,x={searchBook:function(e){return e=e.trim().replace(/\s/g,"+"),N.a.get("".concat(j).concat(e,"&key=").concat(y))}},I=a(31);function O(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function S(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function _(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}a(79);function A(e){var t=e.children;return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},t))}function z(e){var t=e.children;return l.a.createElement("li",{className:"list-group-item"},t)}function D(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}function w(e){return l.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var C=a(30),R=a.n(C),P={padding:"6px 20px",margin:"0 10px",border:"1px solid #999",borderRadius:"4px",float:"right",textDecoration:"none"},F=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={books:[],savedBooks:[],title:"",endpoint:"http://localhost:3000",response:!1},a.loadBooks=function(){B.getBooks().then(function(e){return a.setState({savedBooks:e.data})}).catch(function(e){return console.log(e)})},a.saveBook=function(e){var t=Object(m.a)({},a.state.books[e]);B.saveBook(t).then(function(t){var n=a.state.books;n[e]._id=t.data._id,a.setState({books:n});var l=a.state.endpoint;R()(l).emit("FromAPI",n[e].title)}).catch(function(e){return console.log(e)})},a.deleteBook=function(e,t){B.deleteBook(e).then(function(e){a.loadBooks();var n=a.state.books;delete n[t]._id,a.setState({books:n})}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(u.a)({},n,l))},a.handleFormSubmit=function(e){e.preventDefault(),a.state.title&&x.searchBook(a.state.title).then(function(e){var t=e.data.items.map(function(e){var t={},n=e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"";t.id=e.id;var l=a.state.savedBooks.filter(function(e){return e.id===t.id});return l.length&&(t._id=l[0]._id),t.title=e.volumeInfo.title,t.authors=e.volumeInfo.authors,t.description=e.volumeInfo.description,t.image=n,t.link=e.volumeInfo.infoLink,t});a.setState({title:"",books:t})}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadBooks();var t=this.state.endpoint;R()(t).on("FromAPI",function(t){return e.setState({response:t})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(k,null,l.a.createElement("h1",null,"What Books Should I Read?",this.state.response?"received":"...")),l.a.createElement(O,{style:{maxWidth:1300}},l.a.createElement(S,null,l.a.createElement(_,{size:"md-12"},l.a.createElement("form",null,l.a.createElement(D,{value:this.state.title,onChange:this.handleInputChange,name:"title",placeholder:"Search for a book..."}),l.a.createElement(w,{disabled:!this.state.title,onClick:this.handleFormSubmit},"Search"))),l.a.createElement(_,{size:"md-12 sm-12"},l.a.createElement("h5",null,"Results"),l.a.createElement("br",null),this.state.books.length?l.a.createElement(A,null,this.state.books.map(function(t,a){return l.a.createElement(z,{key:"book"+a},l.a.createElement(S,null,l.a.createElement(_,{size:"sm-12"},t._id?l.a.createElement(b,{onClick:function(){return e.deleteBook(t._id,a)}}):"",t._id?l.a.createElement(I.a,{style:P,to:"/detail/"+t._id}," ",l.a.createElement("i",{className:"fa fa-eye"}),"  View"):l.a.createElement(v,{onClick:function(){return e.saveBook(a)}}),l.a.createElement("h3",null,t.title),l.a.createElement("p",null,"Author(s): ",l.a.createElement("em",null,t.authors?t.authors.join(", "):"No Authors")),l.a.createElement("br",null))),l.a.createElement(S,null,"`",l.a.createElement(_,{size:"md-auto sm-10"},t.image?l.a.createElement("img",{src:t.image,alt:""}):l.a.createElement("div",{className:"noImage"},"No Image"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(_,{size:"md-10 sm-10"},l.a.createElement("p",null,l.a.createElement("strong",null,"Description:"),l.a.createElement("br",null)," ",t.description?t.description.length>300?t.description.substring(0,300)+"...":t.description:"No description..."))))})):l.a.createElement("h3",null,"No Results to Display")))))}}]),t}(n.Component),L=(a(108),{padding:"6px 20px",margin:"0 10px",border:"1px solid #999",borderRadius:"4px",float:"right",textDecoration:"none"}),U=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={books:[]},a.loadBooks=function(){B.getBooks().then(function(e){return a.setState({books:e.data})}).catch(function(e){return console.log(e)})},a.deleteBook=function(e){B.deleteBook(e).then(function(e){return a.loadBooks()}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(k,null,l.a.createElement("h1",null,"What Books Should I Read?")),l.a.createElement(O,{style:{maxWidth:1300}},l.a.createElement(S,null,l.a.createElement(_,{size:"md-12 sm-12"},l.a.createElement("h5",null,"Saved Books"),this.state.books.length?l.a.createElement(A,null,this.state.books.map(function(t){return l.a.createElement(z,{key:"book"+t._id},l.a.createElement(S,null,l.a.createElement(_,{size:"sm-12"},l.a.createElement(b,{onClick:function(){return e.deleteBook(t._id)}}),l.a.createElement(I.a,{style:L,to:"/detail/"+t._id},l.a.createElement("i",{className:"fa fa-eye"}),"  View"),l.a.createElement("h4",null,t.title),l.a.createElement("p",null,"Author(s): ",l.a.createElement("em",null,t.authors.length?t.authors.join(", "):"No Authors")),l.a.createElement("br",null))),l.a.createElement(S,null,l.a.createElement(_,{size:"sm-auto"},t.image?l.a.createElement("img",{src:t.image,alt:""}):l.a.createElement("div",{className:"noImage"},"No Image"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(_,{size:"sm-10"},l.a.createElement("p",null,l.a.createElement("strong",null,"Description:"),l.a.createElement("br",null)," ",t.description?t.description.length>300?t.description.substring(0,300)+"...":t.description:"No Description"))))})):l.a.createElement("h3",null,"No Results to Display")))))}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(l)))).state={book:{}},a}return Object(p.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;B.getBook(this.props.match.params.id).then(function(t){return e.setState({book:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.book,t=e.title,a=e.authors,n=e.image,r=e.link,o=e.description;return l.a.createElement("div",null,l.a.createElement(k,null,l.a.createElement("h1",null,t," by ",a?a.join(", "):"No Author")),l.a.createElement(O,null,l.a.createElement(S,null,l.a.createElement(_,{size:"md-auto"},l.a.createElement("img",{src:n,alt:t}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(_,{size:"md-10"},l.a.createElement("article",null,l.a.createElement("h5",null,"Description"),l.a.createElement("p",null,o),l.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},"View on Google Books"),l.a.createElement("br",null),l.a.createElement("br",null)))),l.a.createElement(S,null,l.a.createElement(_,{size:"md-10"},l.a.createElement(I.a,{to:"/saved"},"\u2190 Back to Saved Articles")))))}}]),t}(n.Component);var W=function(){return l.a.createElement("div",null,l.a.createElement(k,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))),l.a.createElement(O,null,l.a.createElement(S,null,l.a.createElement(_,{size:"md-12"}))))},M=a(113);a(109);var T=function(){return l.a.createElement("nav",{className:"navbar navbar-inverse"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books Search API"),l.a.createElement("ul",{className:"nav navbar-right"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(M.a,{to:"/saved",exact:!0,activeStyle:{color:"red"}},l.a.createElement("i",{className:"fa fa-save"})," \xa0 Saved")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(M.a,{to:"/",exact:!0,activeStyle:{color:"red"}},l.a.createElement("i",{className:"fa fa-search"})," \xa0Search"))))};var G=function(){return l.a.createElement(c.a,null,l.a.createElement("div",null,l.a.createElement(T,null),l.a.createElement(i.a,null,l.a.createElement(s.a,{exact:!0,path:"/",component:F}),l.a.createElement(s.a,{exact:!0,path:"/books",component:F}),l.a.createElement(s.a,{exact:!0,path:"/saved",component:U}),l.a.createElement(s.a,{exact:!0,path:"/detail/:id",component:V}),l.a.createElement(s.a,{component:W}))))};o.a.render(l.a.createElement(G,null),document.getElementById("root"))},55:function(e,t,a){e.exports=a(111)},60:function(e,t,a){},61:function(e,t,a){},79:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.fcedf095.chunk.js.map