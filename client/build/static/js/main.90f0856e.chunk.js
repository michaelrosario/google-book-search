(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},109:function(e,t,a){},111:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(51),r=a.n(o),c=a(114),i=a(115),s=a(54),u=a(52),m=a(8),d=a(9),E=a(11),h=a(10),f=a(12),b=a(4);a(13),a(60);var p=function(e){return l.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),l.a.createElement("i",{className:"fa fa-trash"})," Delete")};a(61);var g=function(e){return l.a.createElement("span",Object.assign({className:"save-btn"},e,{role:"button",tabIndex:"0"}),l.a.createElement("i",{className:"fa fa-save"}," ")," \xa0Save")};var v=function(e){var t=e.children;return l.a.createElement("div",{style:{height:300,clear:"both",margin:"0px 0 20px 0",paddingTop:120,color:"#FFF",textAlign:"center",backgroundSize:"cover",backgroundPosition:"center center",borderRadius:0,backgroundImage:"url(https://images.unsplash.com/photo-1525715843408-5c6ec44503b1)"},className:"jumbotron"},t)},k=a(6),x=a.n(k),N={getBooks:function(){return x.a.get("/api/books")},getBook:function(e){return x.a.get("/api/books/"+e)},deleteBook:function(e){return x.a.delete("/api/books/"+e)},saveBook:function(e){return x.a.post("/api/books",e)}},B=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_KEY,j=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_URL,y={searchBook:function(e){return e=e.trim().replace(/\s/g,"+"),x.a.get("".concat(j).concat(e,"&key=").concat(B))}},O=a(31);function I(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function S(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function _(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}a(79);function A(e){var t=e.children;return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},t))}function w(e){var t=e.children;return l.a.createElement("li",{className:"list-group-item"},t)}function R(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}function z(e){return l.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var D,C=a(22),F=a.n(C),P={padding:"6px 20px",margin:"0 10px",border:"1px solid #999",borderRadius:"4px",float:"right",textDecoration:"none"},L=(D={padding:"6px 20px",position:"fixed",width:"100%",zIndex:"999",bottom:0,textAlign:"center",color:"#FFF",fontWeight:"bold",margin:"0 10px",border:"1px solid #999",left:-10,borderRadius:0},Object(b.a)(D,"borderRadius","4px"),Object(b.a)(D,"float","right"),Object(b.a)(D,"textDecoration","none"),Object(b.a)(D,"transition","all linear .07s"),Object(b.a)(D,"backgroundColor","rgba(0, 128, 128, 0.8)"),D),W=Object(b.a)({transition:"all linear .07s",padding:"6px 20px",position:"fixed",width:"100%",textAlign:"center",zIndex:"999",bottom:-40,color:"#FFF",fontWeight:"bold",margin:"0 10px",border:"1px solid #999",borderRadius:"4px",float:"right",textDecoration:"none",backgroundColor:"rgba(0, 128, 128, 0.8)",left:-10},"borderRadius",0),U=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={books:[],savedBooks:[],title:"",alert:"",endpoint:"/"},a.showAlert=function(e){console.log("message",e),a.setState({alert:e}),setInterval(function(){a.setState({alert:""})},3e3)},a.loadBooks=function(){N.getBooks().then(function(e){return a.setState({savedBooks:e.data})}).catch(function(e){return console.log(e)})},a.saveBook=function(e){var t=Object(u.a)({},a.state.books[e]);N.saveBook(t).then(function(t){var n=a.state.books;n[e]._id=t.data._id,F()(a.state.endpoint).emit("fromReact",{data:t.data.title}),a.setState({books:n})}).catch(function(e){return console.log(e)})},a.deleteBook=function(e,t){N.deleteBook(e).then(function(e){a.loadBooks();var n=a.state.books;delete n[t]._id,a.setState({books:n})}).catch(function(e){return console.log(e)})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(b.a)({},n,l))},a.handleFormSubmit=function(e){e.preventDefault(),a.state.title&&y.searchBook(a.state.title).then(function(e){var t=e.data.items.map(function(e){var t={},n=e.volumeInfo.imageLinks?e.volumeInfo.imageLinks.thumbnail:"";t.id=e.id;var l=a.state.savedBooks.filter(function(e){return e.id===t.id});return l.length&&(t._id=l[0]._id),t.title=e.volumeInfo.title,t.authors=e.volumeInfo.authors,t.description=e.volumeInfo.description,t.image=n,t.link=e.volumeInfo.infoLink,t});a.setState({title:"",books:t})}).catch(function(e){return console.log(e)})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadBooks(),F()(this.state.endpoint).on("fromServer",function(t){console.log("fromServer",t.data),e.showAlert(t.data)})}},{key:"render",value:function(){var e=this;F()(this.state.endpoint);return l.a.createElement("div",null,l.a.createElement(v,null,l.a.createElement("h1",null,"What Books Should I Read?")),l.a.createElement(I,{style:{maxWidth:1300}},l.a.createElement(S,null,l.a.createElement(_,{size:"md-12"},l.a.createElement("form",null,l.a.createElement(R,{value:this.state.title,onChange:this.handleInputChange,name:"title",placeholder:"Search for a book..."}),l.a.createElement(z,{disabled:!this.state.title,onClick:this.handleFormSubmit},"Search"))),l.a.createElement(_,{size:"md-12 sm-12"},l.a.createElement("h5",null,"Results"),l.a.createElement("br",null),this.state.books.length?l.a.createElement(A,null,this.state.books.map(function(t,a){return l.a.createElement(w,{key:"book"+a},l.a.createElement(S,null,l.a.createElement(_,{size:"sm-12"},t._id?l.a.createElement(p,{onClick:function(){return e.deleteBook(t._id,a)}}):"",t._id?l.a.createElement(O.a,{style:P,to:"/detail/"+t._id}," ",l.a.createElement("i",{className:"fa fa-eye"}),"  View"):l.a.createElement(g,{onClick:function(){return e.saveBook(a)}}),l.a.createElement("h3",null,t.title),l.a.createElement("p",null,"Author(s): ",l.a.createElement("em",null,t.authors?t.authors.join(", "):"No Authors")),l.a.createElement("br",null))),l.a.createElement(S,null,"`",l.a.createElement(_,{size:"md-auto sm-10"},t.image?l.a.createElement("img",{src:t.image,alt:""}):l.a.createElement("div",{className:"noImage"},"No Image"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(_,{size:"md-10 sm-10"},l.a.createElement("p",null,l.a.createElement("strong",null,"Description:"),l.a.createElement("br",null)," ",t.description?t.description.length>300?t.description.substring(0,300)+"...":t.description:"No description..."))))})):l.a.createElement("h3",null,"No Results to Display")))),l.a.createElement("div",{style:this.state.alert?L:W},l.a.createElement("i",{className:"fa fa-save"})," \xa0 ",l.a.createElement("u",null,l.a.createElement("em",null,this.state.alert))," was saved ..."))}}]),t}(n.Component),V=(a(108),{padding:"6px 20px",margin:"0 10px",border:"1px solid #999",borderRadius:"4px",float:"right",textDecoration:"none"}),M=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={books:[]},a.loadBooks=function(){N.getBooks().then(function(e){return a.setState({books:e.data})}).catch(function(e){return console.log(e)})},a.deleteBook=function(e){N.deleteBook(e).then(function(e){return a.loadBooks()}).catch(function(e){return console.log(e)})},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(v,null,l.a.createElement("h1",null,"What Books Should I Read?")),l.a.createElement(I,{style:{maxWidth:1300}},l.a.createElement(S,null,l.a.createElement(_,{size:"md-12 sm-12"},l.a.createElement("h5",null,"Saved Books"),this.state.books.length?l.a.createElement(A,null,this.state.books.map(function(t){return l.a.createElement(w,{key:"book"+t._id},l.a.createElement(S,null,l.a.createElement(_,{size:"sm-12"},l.a.createElement(p,{onClick:function(){return e.deleteBook(t._id)}}),l.a.createElement(O.a,{style:V,to:"/detail/"+t._id},l.a.createElement("i",{className:"fa fa-eye"}),"  View"),l.a.createElement("h4",null,t.title),l.a.createElement("p",null,"Author(s): ",l.a.createElement("em",null,t.authors.length?t.authors.join(", "):"No Authors")),l.a.createElement("br",null))),l.a.createElement(S,null,l.a.createElement(_,{size:"sm-auto"},t.image?l.a.createElement("img",{src:t.image,alt:""}):l.a.createElement("div",{className:"noImage"},"No Image"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(_,{size:"sm-10"},l.a.createElement("p",null,l.a.createElement("strong",null,"Description:"),l.a.createElement("br",null)," ",t.description?t.description.length>300?t.description.substring(0,300)+"...":t.description:"No Description"))))})):l.a.createElement("h3",null,"No Results to Display")))))}}]),t}(n.Component),T=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(E.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={book:{}},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.getBook(this.props.match.params.id).then(function(t){return e.setState({book:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.book,t=e.title,a=e.authors,n=e.image,o=e.link,r=e.description;return l.a.createElement("div",null,l.a.createElement(v,null,l.a.createElement("h1",null,t," by ",a?a.join(", "):"No Author")),l.a.createElement(I,null,l.a.createElement(S,null,l.a.createElement(_,{size:"md-auto"},l.a.createElement("img",{src:n,alt:t}),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement(_,{size:"md-10"},l.a.createElement("article",null,l.a.createElement("h5",null,"Description"),l.a.createElement("p",null,r),l.a.createElement("a",{href:o,target:"_blank",rel:"noopener noreferrer"},"View on Google Books"),l.a.createElement("br",null),l.a.createElement("br",null)))),l.a.createElement(S,null,l.a.createElement(_,{size:"md-10"},l.a.createElement(O.a,{to:"/saved"},"\u2190 Back to Saved Articles")))))}}]),t}(n.Component);var G=function(){return l.a.createElement("div",null,l.a.createElement(v,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))),l.a.createElement(I,null,l.a.createElement(S,null,l.a.createElement(_,{size:"md-12"}))))},J=a(113);a(109);var K=function(){return l.a.createElement("nav",{className:"navbar navbar-inverse"},l.a.createElement(J.a,{to:"/",className:"navbar-brand",exact:!0},"Google Books Search API"),l.a.createElement("ul",{className:"nav navbar-right"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(J.a,{to:"/saved",exact:!0,activeStyle:{color:"red"}},l.a.createElement("i",{className:"fa fa-save"})," \xa0 Saved")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(J.a,{to:"/",exact:!0,activeStyle:{color:"red"}},l.a.createElement("i",{className:"fa fa-search"})," \xa0Search"))))};var Y=function(){return l.a.createElement(c.a,null,l.a.createElement("div",null,l.a.createElement(K,null),l.a.createElement(i.a,null,l.a.createElement(s.a,{exact:!0,path:"/",component:U}),l.a.createElement(s.a,{exact:!0,path:"/books",component:U}),l.a.createElement(s.a,{exact:!0,path:"/saved",component:M}),l.a.createElement(s.a,{exact:!0,path:"/detail/:id",component:T}),l.a.createElement(s.a,{component:G}))))};r.a.render(l.a.createElement(Y,null),document.getElementById("root"))},55:function(e,t,a){e.exports=a(111)},60:function(e,t,a){},61:function(e,t,a){},79:function(e,t,a){}},[[55,1,2]]]);
//# sourceMappingURL=main.90f0856e.chunk.js.map